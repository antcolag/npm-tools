<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Tests</title>
	<script type="module" async src="./reactive.js"></script>
	<script type="module" async src="./observe.js"></script>
	<script type="module" async src="./tools.js"></script>
	<script type="module" async src="./test.js"></script>
	<script type="module" async src="./utils.js"></script>
	<script type="module" defer>
		import Test from "./test.js";
		import {
			apply,
			pipe,
			yes
		} from "./utils.js";
		import {
			croak,
			ASSERT,
			ASSERT_T,
			ASSERT_F,
		} from "./debug.js";

		new Test("tests shuld work", async function (arg) {

			var tests = new Test(
				"reactive and events shuld work",
				pipe
			)

			tests
			.bind("result", this, "reactiveResult")

			tests.on(
				"PASSED FAILED complete",
				ASSERT.bind(null, this.reactiveResult, tests.result)
			)
			await tests.run(true)

			await new Test(
				"failing tests shuld work",
				croak
			).die(true)

			await new Test(
				"shuld fail if description is not a String",
				() => new Test(-1).run()
			).die()
			return arg
		}).run(true)
	</script>
</head>
<body>
	<h1>Tests</h1>
	<p>open the console</p>
</body>
</html>